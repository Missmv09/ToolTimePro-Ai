(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return createLucideIcon}});var l=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let s=(0,l.forwardRef)(({color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:o,...d},m)=>(0,l.createElement)("svg",{ref:m,...r,width:a,height:a,stroke:s,strokeWidth:i?24*Number(n)/Number(a):n,className:["lucide",`lucide-${toKebabCase(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2741:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6319:function(e,t,s){Promise.resolve().then(s.bind(s,7065))},7065:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return JobDetailPage}});var l=s(7437),r=s(2265),a=s(4033),n=s(1396),i=s.n(n),c=s(3067),o=s(2898);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),m=(0,o.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var x=s(6142);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,o.Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var u=s(2741),p=s(1981),f=s(3008),g=s(6369),j=s(2549);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,o.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),b={client:"Smith Pool Service",address:"456 Palm Ave, Beverly Hills, CA 90210",service:"Pool Cleaning & Chemical Balance",phone:"(555) 234-5678",notes:"Check pump filter. Customer reported cloudy water last week.",checklist:[{id:"1",text:"Skim surface debris",completed:!1,required:!0},{id:"2",text:"Vacuum pool floor",completed:!1,required:!0},{id:"3",text:"Brush walls and tile",completed:!1,required:!0},{id:"4",text:"Check and clean pump basket",completed:!1,required:!0},{id:"5",text:"Test water chemistry",completed:!1,required:!0},{id:"6",text:"Add chemicals as needed",completed:!1,required:!0},{id:"7",text:"Check equipment operation",completed:!1,required:!1},{id:"8",text:"Take before/after photos",completed:!1,required:!0}]};function JobDetailPage(){let e=(0,a.useRouter)(),t=(0,r.useRef)(null),[s,n]=(0,r.useState)(b.checklist),[o,y]=(0,r.useState)([]),[N,k]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),[Z,S]=(0,r.useState)(0),[_,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e;return N&&w&&(e=setInterval(()=>{S(Math.floor((Date.now()-w.getTime())/1e3))},1e3)),()=>clearInterval(e)},[N,w]);let completeJob=()=>{k(!1),P(!1),e.push("/worker")},toggleChecklist=e=>{n(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},removePhoto=e=>{y(t=>t.filter(t=>t.id!==e))},L=s.filter(e=>e.completed).length,A=s.filter(e=>e.required).every(e=>e.completed);return(0,l.jsxs)("div",{className:"pb-6",children:[(0,l.jsxs)("div",{className:"bg-navy-500 text-white p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)(i(),{href:"/worker",className:"p-2 -ml-2 hover:bg-white/10 rounded-lg",children:(0,l.jsx)(c.Z,{size:20})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{className:"font-bold",children:b.client}),(0,l.jsx)("p",{className:"text-sm text-white/70",children:b.service})]})]}),(0,l.jsx)("div",{className:"bg-white/10 rounded-xl p-4",children:N?(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Time on Job"}),(0,l.jsx)("p",{className:"text-3xl font-mono font-bold text-gold-500",children:"".concat(Math.floor(Z/3600).toString().padStart(2,"0"),":").concat(Math.floor(Z%3600/60).toString().padStart(2,"0"),":").concat((Z%60).toString().padStart(2,"0"))}),(0,l.jsxs)("p",{className:"text-xs text-white/50 mt-1",children:["Started at ",null==w?void 0:w.toLocaleTimeString()]})]}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Ready to Start?"}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"Tap below to clock in"})]})})]}),(0,l.jsx)("div",{className:"p-4 -mt-4",children:N?(0,l.jsxs)("button",{onClick:()=>{let e=s.filter(e=>e.required).every(e=>e.completed),t=o.length>0;if(!e||!t){P(!0);return}completeJob()},className:"w-full py-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg transition-colors",children:[(0,l.jsx)(m,{size:24}),"CLOCK OUT & COMPLETE"]}):(0,l.jsxs)("button",{onClick:()=>{k(!0),C(new Date)},className:"w-full py-4 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg transition-colors",children:[(0,l.jsx)(d,{size:24}),"CLOCK IN"]})}),(0,l.jsxs)("div",{className:"px-4 space-y-4",children:[(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,l.jsx)(x.Z,{className:"w-5 h-5 text-gold-500 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,l.jsx)("p",{className:"font-medium text-navy-500",children:b.address})]}),(0,l.jsx)("a",{href:"https://maps.google.com/?q=".concat(encodeURIComponent(b.address)),target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-navy-500 text-white rounded-lg",children:(0,l.jsx)(h,{size:18})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 pt-3 border-t border-gray-100",children:[(0,l.jsx)(u.Z,{className:"w-5 h-5 text-gold-500"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Phone"}),(0,l.jsx)("p",{className:"font-medium text-navy-500",children:b.phone})]}),(0,l.jsx)("a",{href:"tel:".concat(b.phone),className:"btn-outline text-sm py-1.5",children:"Call"})]})]}),b.notes&&(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(p.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Job Notes"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:b.notes})]})]})}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"font-semibold text-navy-500",children:"Job Checklist"}),(0,l.jsxs)("span",{className:"badge-gold",children:[L,"/",s.length]})]}),(0,l.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,l.jsxs)("button",{onClick:()=>toggleChecklist(e.id),className:"w-full p-3 rounded-lg flex items-center gap-3 text-left transition-colors ".concat(e.completed?"bg-green-50":"bg-gray-50 hover:bg-gray-100"),children:[e.completed?(0,l.jsx)(f.Z,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):(0,l.jsx)(g.Z,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),(0,l.jsxs)("span",{className:"flex-1 ".concat(e.completed?"text-green-700 line-through":"text-navy-500"),children:[e.text,e.required&&!e.completed&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]},e.id))}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"* Required before completing job"})]}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"font-semibold text-navy-500",children:"Job Photos"}),(0,l.jsxs)("span",{className:"badge-info",children:[o.length," photos"]})]}),o.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:o.map(e=>(0,l.jsxs)("div",{className:"relative aspect-square",children:[(0,l.jsx)("img",{src:e.url,alt:"Job photo",className:"w-full h-full object-cover rounded-lg"}),(0,l.jsx)("button",{onClick:()=>removePhoto(e.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:(0,l.jsx)(j.Z,{size:14})})]},e.id))}),(0,l.jsx)("input",{ref:t,type:"file",accept:"image/*",multiple:!0,capture:"environment",onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t=new FileReader;t.onload=e=>{var t;let s={id:Date.now().toString()+Math.random(),url:null===(t=e.target)||void 0===t?void 0:t.result,timestamp:new Date};y(e=>[...e,s])},t.readAsDataURL(e)})},className:"hidden"}),(0,l.jsxs)("button",{onClick:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.click()},className:"w-full py-4 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center gap-2 text-gray-500 hover:border-gold-500 hover:text-gold-600 transition-colors",children:[(0,l.jsx)(v,{size:24}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Take Photo or Upload"})]})]})]}),_&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-end z-50",children:(0,l.jsxs)("div",{className:"bg-white w-full rounded-t-2xl p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-navy-500 mb-4",children:"Cannot Complete Job Yet"}),!A&&(0,l.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg mb-3",children:[(0,l.jsx)(p.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-red-700",children:"Incomplete Checklist"}),(0,l.jsx)("p",{className:"text-sm text-red-600",children:"Please complete all required checklist items."})]})]}),0===o.length&&(0,l.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg mb-3",children:[(0,l.jsx)(v,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-red-700",children:"No Photos"}),(0,l.jsx)("p",{className:"text-sm text-red-600",children:"Please upload at least one job photo."})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>P(!1),className:"btn-outline flex-1",children:"Go Back"}),(0,l.jsx)("button",{onClick:completeJob,className:"btn-secondary flex-1",children:"Complete Anyway"})]})]})})]})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=s(2265),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var l,a={},o=null,d=null;for(l in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,l)&&!c.hasOwnProperty(l)&&(a[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===a[l]&&(a[l]=t[l]);return{$$typeof:r,type:e,key:o,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)},1396:function(e,t,s){e.exports=s(8326)},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=6319)}),_N_E=e.O()}]);