<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolTime Shield ‚Äî California Compliance | ToolTime Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #1a1a2e;
            --navy-light: #252542;
            --gold: #f5a623;
            --gold-light: #ffc857;
            --background: #fafafa;
            --white: #ffffff;
            --text: #1a1a2e;
            --text-light: #5c5c70;
            --text-muted: #8e8e9f;
            --border: #e5e5e5;
            --success: #00c853;
            --warning: #ffab00;
            --danger: #ff5252;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Navigation */
        .nav {
            background: var(--white);
            border-bottom: 1px solid var(--border);
            padding: 16px 24px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .back-link {
            color: var(--navy);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s;
        }

        .back-link:hover { color: var(--gold); }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            font-size: 1.25rem;
            color: var(--navy);
            text-decoration: none;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: var(--gold);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            color: var(--white);
            padding: 48px 24px;
            text-align: center;
        }

        .header-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .header h1 {
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--white);
        }

        .header p {
            font-size: 1.125rem;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        /* Company Size Selector */
        .size-selector {
            background: var(--white);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(26, 26, 46, 0.06);
        }

        .size-selector h3 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 16px;
            text-align: center;
        }

        .size-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .size-btn {
            padding: 16px 28px;
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: 12px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
            min-width: 100px;
        }

        .size-btn:hover {
            border-color: var(--gold);
            background: rgba(245, 166, 35, 0.05);
        }

        .size-btn.active {
            background: var(--gold);
            border-color: var(--gold);
            color: var(--navy);
        }

        .size-btn span {
            display: block;
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .size-btn.active span {
            color: var(--navy);
            opacity: 0.7;
        }

        /* Tabs Section */
        .tabs-container {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(26, 26, 46, 0.06);
            margin-bottom: 24px;
        }

        .tab-buttons {
            display: flex;
            background: var(--background);
            border-bottom: 1px solid var(--border);
        }

        .tab-btn {
            flex: 1;
            padding: 18px 24px;
            background: transparent;
            border: none;
            font-family: inherit;
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .tab-btn:hover {
            color: var(--text);
            background: rgba(245, 166, 35, 0.05);
        }

        .tab-btn.active {
            color: var(--navy);
            background: var(--white);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gold);
        }

        .tab-btn .tab-icon {
            margin-right: 8px;
        }

        .tab-content {
            display: none;
            padding: 32px;
            min-height: 300px;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h4 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
        }

        .placeholder-text {
            color: var(--text-muted);
            font-size: 1rem;
            padding: 40px;
            text-align: center;
            background: var(--background);
            border-radius: 12px;
            border: 2px dashed var(--border);
        }

        .placeholder-text .icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
            display: block;
        }

        /* Federal Rules Content */
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        @media (max-width: 768px) {
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }

        .rule-card {
            background: var(--background);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
        }

        .rule-card h5 {
            font-size: 0.9375rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rule-card ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .rule-card li {
            font-size: 0.875rem;
            color: var(--text-light);
            padding: 6px 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .rule-card li:last-child {
            border-bottom: none;
        }

        .rule-card li::before {
            content: '‚Ä¢';
            color: var(--gold);
            font-weight: bold;
        }

        .rule-card .note {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-style: italic;
        }

        /* Warning Card Style */
        .rule-card.warning {
            background: rgba(255, 82, 82, 0.08);
            border-color: var(--danger);
            border-width: 2px;
        }

        .rule-card.warning h5 {
            color: var(--danger);
        }

        .rule-card.warning li::before {
            color: var(--danger);
        }

        /* City Selector */
        .city-selector {
            margin-bottom: 24px;
        }

        .city-selector h5 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 12px;
        }

        .city-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .city-btn {
            padding: 10px 16px;
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
        }

        .city-btn:hover {
            border-color: var(--gold);
            background: rgba(245, 166, 35, 0.05);
        }

        .city-btn.active {
            background: var(--gold);
            border-color: var(--gold);
            color: var(--navy);
        }

        /* Local Wage Display */
        .wage-display {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            border-radius: 12px;
            padding: 24px;
            color: var(--white);
            margin-bottom: 24px;
            text-align: center;
        }

        .wage-display.hidden {
            display: none;
        }

        .wage-city-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .wage-amount {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--gold);
            margin-bottom: 8px;
        }

        .wage-comparison {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .wage-comparison .arrow {
            color: var(--gold);
        }

        .wage-comparison .increase {
            color: var(--success);
            font-weight: 600;
        }

        .wage-note {
            font-size: 0.8125rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 8px;
        }

        /* City Rules Section */
        .city-rules {
            margin-top: 24px;
        }

        .city-rules.hidden {
            display: none;
        }

        .city-rules h5 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Default Message */
        .default-message {
            text-align: center;
            padding: 40px;
            background: var(--background);
            border-radius: 12px;
            border: 2px dashed var(--border);
            color: var(--text-muted);
        }

        .default-message .icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
            display: block;
        }

        .default-message p {
            font-size: 0.9375rem;
        }

        /* Wage Info Note */
        .wage-info-note {
            background: rgba(245, 166, 35, 0.1);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 12px 16px;
            margin-top: 24px;
            font-size: 0.875rem;
            color: var(--text);
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .wage-info-note .note-icon {
            font-size: 1.25rem;
        }

        /* Local Wage Table */
        .local-wage-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            margin-top: 24px;
        }

        .local-wage-table th {
            background: var(--navy);
            color: var(--white);
            font-size: 0.8125rem;
            font-weight: 700;
            text-align: left;
            padding: 12px 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .local-wage-table td {
            padding: 12px 16px;
            font-size: 0.875rem;
            border-bottom: 1px solid var(--border);
        }

        .local-wage-table tr:last-child td {
            border-bottom: none;
        }

        .local-wage-table tr.selected-city {
            background: rgba(245, 166, 35, 0.1);
        }

        .local-wage-table tr.selected-city td:first-child {
            font-weight: 700;
            color: var(--gold);
        }

        .local-wage-table .wage-cell {
            font-weight: 700;
            color: var(--navy);
        }

        .local-wage-table .notes-cell {
            color: var(--text-muted);
            font-size: 0.8125rem;
        }

        /* Calculator Styles */
        .calculators-section {
            margin-top: 48px;
        }

        .calculators-section > h3 {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--navy);
            margin-bottom: 24px;
            text-align: center;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        @media (max-width: 968px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
        }

        .calc-card {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(26, 26, 46, 0.06);
            border: 1px solid var(--border);
        }

        .calc-header {
            background: var(--navy);
            color: var(--white);
            padding: 16px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.2s;
        }

        .calc-header:hover {
            background: var(--navy-light);
        }

        .calc-header h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--white);
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0;
        }

        .calc-toggle {
            font-size: 1.25rem;
            transition: transform 0.3s;
        }

        .calc-card.open .calc-toggle {
            transform: rotate(180deg);
        }

        .calc-body {
            padding: 20px;
            display: none;
        }

        .calc-card.open .calc-body {
            display: block;
        }

        .calc-form-group {
            margin-bottom: 16px;
        }

        .calc-form-group label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .calc-input,
        .calc-select {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            color: var(--text);
            background: var(--background);
            transition: all 0.2s;
        }

        .calc-input:focus,
        .calc-select:focus {
            outline: none;
            border-color: var(--gold);
            background: var(--white);
        }

        .calc-input::placeholder {
            color: var(--text-muted);
        }

        .calc-btn {
            width: 100%;
            padding: 14px 20px;
            background: var(--gold);
            color: var(--navy);
            border: none;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 8px;
        }

        .calc-btn:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
        }

        /* Calculator Result Boxes */
        .calc-result {
            margin-top: 16px;
            display: none;
        }

        .calc-result.show {
            display: block;
        }

        .result-box {
            border-radius: 12px;
            padding: 16px;
            border: 2px solid;
        }

        .result-box.warning {
            background: rgba(255, 82, 82, 0.08);
            border-color: var(--danger);
        }

        .result-box.success {
            background: rgba(0, 200, 83, 0.08);
            border-color: var(--success);
        }

        .result-box.info {
            background: rgba(245, 166, 35, 0.08);
            border-color: var(--gold);
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .result-box.warning .result-header {
            color: var(--danger);
        }

        .result-box.success .result-header {
            color: var(--success);
        }

        .result-box.info .result-header {
            color: var(--gold);
        }

        .result-date {
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--navy);
            margin-bottom: 8px;
        }

        .result-detail {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .result-penalty {
            background: rgba(255, 82, 82, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin-top: 12px;
        }

        .result-penalty-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--danger);
            font-weight: 700;
            margin-bottom: 4px;
        }

        .result-penalty-amount {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--danger);
        }

        .result-note {
            font-size: 0.8125rem;
            color: var(--text-muted);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border);
        }

        /* Input row for side by side inputs */
        .calc-input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        @media (max-width: 480px) {
            .calc-input-row {
                grid-template-columns: 1fr;
            }
        }

        /* Result breakdown */
        .result-breakdown {
            background: var(--background);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
        }

        .breakdown-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 0.875rem;
            border-bottom: 1px dashed var(--border);
        }

        .breakdown-row:last-child {
            border-bottom: none;
            font-weight: 700;
            color: var(--navy);
            padding-top: 8px;
            margin-top: 4px;
            border-top: 2px solid var(--navy);
        }

        .breakdown-label {
            color: var(--text-light);
        }

        .breakdown-value {
            color: var(--navy);
            font-weight: 600;
        }

        /* Checklist Generator Styles */
        .checklist-generator {
            background: var(--white);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
            box-shadow: 0 2px 8px rgba(26, 26, 46, 0.06);
        }

        .checklist-generator h3 {
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--navy);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checklist-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 20px;
            padding: 12px 16px;
            background: var(--background);
            border-radius: 8px;
            font-size: 0.875rem;
        }

        .checklist-meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .checklist-meta-label {
            color: var(--text-muted);
        }

        .checklist-meta-value {
            font-weight: 700;
            color: var(--navy);
        }

        .checklist-progress {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding: 12px 16px;
            background: rgba(0, 200, 83, 0.08);
            border-radius: 8px;
            border: 1px solid var(--success);
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--success);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--success);
            white-space: nowrap;
        }

        .checklist-sections {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        @media (max-width: 768px) {
            .checklist-sections {
                grid-template-columns: 1fr;
            }
        }

        .checklist-section {
            background: var(--background);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid var(--border);
        }

        .checklist-section h4 {
            font-size: 0.9375rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--gold);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checklist-items {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item:hover {
            background: rgba(245, 166, 35, 0.05);
            margin: 0 -8px;
            padding-left: 8px;
            padding-right: 8px;
            border-radius: 6px;
        }

        .checklist-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
            transition: all 0.2s;
        }

        .checklist-item.checked .checklist-checkbox {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .checklist-item.checked .checklist-checkbox::after {
            content: '‚úì';
            font-size: 12px;
            font-weight: bold;
        }

        .checklist-label {
            font-size: 0.875rem;
            color: var(--text);
            line-height: 1.4;
        }

        .checklist-item.checked .checklist-label {
            color: var(--success);
            text-decoration: line-through;
        }

        .checklist-conditional {
            font-size: 0.75rem;
            color: var(--gold);
            font-weight: 600;
            margin-left: 4px;
        }

        .checklist-item.inactive {
            opacity: 0.4;
            cursor: default;
        }

        .checklist-item.inactive .checklist-label {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        /* Checklist Actions */
        .checklist-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .checklist-btn {
            padding: 12px 20px;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.9375rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: none;
        }

        .checklist-btn.primary {
            background: var(--gold);
            color: var(--navy);
        }

        .checklist-btn.primary:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
        }

        .checklist-btn.secondary {
            background: var(--background);
            color: var(--navy);
            border: 2px solid var(--border);
        }

        .checklist-btn.secondary:hover {
            border-color: var(--gold);
            background: rgba(245, 166, 35, 0.05);
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            .checklist-generator,
            .checklist-generator * {
                visibility: visible;
            }
            .checklist-generator {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
                padding: 20px;
            }
            .checklist-actions {
                display: none;
            }
            .checklist-progress {
                border: 1px solid #ccc;
            }
            .checklist-item:hover {
                background: none;
                margin: 0;
                padding-left: 0;
                padding-right: 0;
            }
        }

        /* Size Requirements Table */
        .size-table-section {
            margin-top: 32px;
        }

        .size-table-section h5 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .size-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .size-table th {
            background: var(--navy);
            color: var(--white);
            font-size: 0.8125rem;
            font-weight: 700;
            text-align: left;
            padding: 14px 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .size-table td {
            padding: 14px 16px;
            font-size: 0.875rem;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }

        .size-table tr:last-child td {
            border-bottom: none;
        }

        .size-table tr.inactive {
            color: var(--text-muted);
            background: var(--background);
        }

        .size-table tr.inactive .status-icon {
            opacity: 0.4;
        }

        .size-table tr.active-row {
            background: rgba(0, 200, 83, 0.08);
            border-left: 4px solid var(--success);
        }

        .size-table tr.active-row td:first-child {
            font-weight: 700;
            color: var(--success);
        }

        .size-table .size-cell {
            font-weight: 600;
            white-space: nowrap;
            min-width: 100px;
        }

        .size-table .requirements-cell {
            line-height: 1.6;
        }

        .status-icon {
            margin-right: 6px;
        }

        .status-applies {
            color: var(--success);
        }

        .status-not-yet {
            color: var(--text-muted);
        }

        /* Mobile table */
        @media (max-width: 600px) {
            .size-table {
                font-size: 0.8125rem;
            }

            .size-table th,
            .size-table td {
                padding: 10px 12px;
            }
        }

        /* Bottom Section */
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        @media (max-width: 768px) {
            .bottom-section {
                grid-template-columns: 1fr;
            }
        }

        .bottom-card {
            background: var(--white);
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 2px 8px rgba(26, 26, 46, 0.06);
        }

        .bottom-card h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bottom-card h3 .icon {
            font-size: 1.25rem;
        }

        .calculator-placeholder {
            background: var(--background);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            border: 2px dashed var(--border);
        }

        .calculator-placeholder .calc-icon {
            font-size: 3rem;
            margin-bottom: 12px;
        }

        .calculator-placeholder p {
            color: var(--text-muted);
            font-size: 0.9375rem;
        }

        .download-btn {
            width: 100%;
            padding: 18px 24px;
            background: var(--gold);
            color: var(--navy);
            border: none;
            border-radius: 12px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .download-btn:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 166, 35, 0.3);
        }

        .download-card-content {
            text-align: center;
        }

        .download-card-content p {
            color: var(--text-muted);
            font-size: 0.9375rem;
            margin-bottom: 20px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .size-buttons {
                flex-direction: column;
            }

            .size-btn {
                width: 100%;
            }

            .tab-buttons {
                flex-direction: column;
            }

            .tab-btn {
                border-bottom: 1px solid var(--border);
            }

            .tab-btn:last-child {
                border-bottom: none;
            }

            .tab-btn.active::after {
                display: none;
            }

            .tab-btn.active {
                background: rgba(245, 166, 35, 0.1);
                color: var(--navy);
            }
        }

        /* Footer */
        .footer {
            background: var(--navy);
            color: var(--white);
            padding: 32px 24px;
            text-align: center;
            margin-top: 48px;
        }

        .footer p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.875rem;
        }

        .footer a {
            color: var(--gold);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="index.html" class="back-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Main Site
            </a>
            <a href="index.html" class="nav-logo">
                <div class="logo-icon">üõ†</div>
                ToolTime Pro
            </a>
        </div>
    </nav>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>üõ°Ô∏è ToolTime Shield ‚Äî California Compliance</h1>
            <p>Know the rules. Avoid the fines.</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Company Size Selector -->
        <section class="size-selector">
            <h3>Select Your Company Size</h3>
            <div class="size-buttons">
                <button class="size-btn" data-size="1-4" onclick="selectSize(this)">
                    1-4
                    <span>employees</span>
                </button>
                <button class="size-btn active" data-size="5-14" onclick="selectSize(this)">
                    5-14
                    <span>employees</span>
                </button>
                <button class="size-btn" data-size="15-24" onclick="selectSize(this)">
                    15-24
                    <span>employees</span>
                </button>
                <button class="size-btn" data-size="25-49" onclick="selectSize(this)">
                    25-49
                    <span>employees</span>
                </button>
                <button class="size-btn" data-size="50-99" onclick="selectSize(this)">
                    50-99
                    <span>employees</span>
                </button>
            </div>
        </section>

        <!-- Tabs Section -->
        <section class="tabs-container">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="showTab('federal')">
                    <span class="tab-icon">üá∫üá∏</span>Federal Rules
                </button>
                <button class="tab-btn" onclick="showTab('state')">
                    <span class="tab-icon">üêª</span>CA State Rules
                </button>
                <button class="tab-btn" onclick="showTab('local')">
                    <span class="tab-icon">üèôÔ∏è</span>Local Rules (City/County)
                </button>
            </div>

            <div class="tab-content active" id="tab-federal">
                <h4>üá∫üá∏ Federal Compliance (Applies to All Employers)</h4>

                <!-- Rules Grid -->
                <div class="rules-grid">
                    <!-- Wage & Hour -->
                    <div class="rule-card">
                        <h5>üí∞ Wage & Hour (FLSA)</h5>
                        <ul>
                            <li>Minimum Wage: $7.25/hr <span class="note">(CA is higher ‚Äî use CA rate)</span></li>
                            <li>Overtime: 1.5x after 40 hrs/week</li>
                            <li>Recordkeeping: Keep payroll records 3 years</li>
                        </ul>
                    </div>

                    <!-- Tax & Forms -->
                    <div class="rule-card">
                        <h5>üìã Tax & Forms</h5>
                        <ul>
                            <li>W-2: Issue to employees by Jan 31</li>
                            <li>1099-NEC: Issue to contractors ($600+) by Jan 31</li>
                            <li>I-9: Complete within 3 business days of hire</li>
                            <li>W-4: Collect at hire</li>
                        </ul>
                    </div>

                    <!-- Workplace Safety -->
                    <div class="rule-card">
                        <h5>ü¶∫ Workplace Safety (OSHA)</h5>
                        <ul>
                            <li>Provide safe workplace</li>
                            <li>Report fatalities within 8 hours</li>
                            <li>Report hospitalizations within 24 hours</li>
                            <li>Post OSHA poster</li>
                        </ul>
                    </div>

                    <!-- Employee Rights -->
                    <div class="rule-card">
                        <h5>‚öñÔ∏è Employee Rights</h5>
                        <ul>
                            <li>USERRA: Military leave protection</li>
                            <li>Jury Duty: Can't fire for jury service</li>
                            <li>NLRA: Right to discuss wages</li>
                        </ul>
                    </div>
                </div>

                <!-- Size Requirements Table -->
                <div class="size-table-section">
                    <h5>üìä Federal Requirements by Company Size</h5>
                    <table class="size-table" id="federalSizeTable">
                        <thead>
                            <tr>
                                <th>Employees</th>
                                <th>What Kicks In</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-min="1" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>1+</td>
                                <td class="requirements-cell">FLSA, I-9, OSHA, FUTA taxes</td>
                            </tr>
                            <tr data-min="11" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>11+</td>
                                <td class="requirements-cell">OSHA injury logs (Form 300)</td>
                            </tr>
                            <tr data-min="15" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>15+</td>
                                <td class="requirements-cell">Title VII (discrimination), ADA, Pregnancy Discrimination Act</td>
                            </tr>
                            <tr data-min="20" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>20+</td>
                                <td class="requirements-cell">ADEA (age 40+), COBRA</td>
                            </tr>
                            <tr data-min="50" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>50+</td>
                                <td class="requirements-cell">FMLA (12 weeks leave), ACA health insurance</td>
                            </tr>
                            <tr data-min="100" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>100+</td>
                                <td class="requirements-cell">WARN Act (60-day layoff notice)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-content" id="tab-state">
                <h4>üêª California State Rules</h4>

                <!-- CA Rules Grid -->
                <div class="rules-grid">
                    <!-- Wages -->
                    <div class="rule-card">
                        <h5>üí∞ Wages</h5>
                        <ul>
                            <li>Minimum Wage: $16.00/hr (2024)</li>
                            <li>Overtime: 1.5x after 8 hrs/DAY or 40 hrs/week</li>
                            <li>Double Time: 2x after 12 hrs/day</li>
                            <li>Pay Stubs: Itemized statement required</li>
                        </ul>
                    </div>

                    <!-- Final Pay - WARNING -->
                    <div class="rule-card warning">
                        <h5>‚ö†Ô∏è Final Pay</h5>
                        <ul>
                            <li>Fired/Laid Off: IMMEDIATELY (same day)</li>
                            <li>Quit with 72+ hrs notice: Last day of work</li>
                            <li>Quit without notice: Within 72 hours</li>
                            <li>Must include ALL wages + ALL accrued vacation</li>
                            <li>Penalty if late: Up to 30 days wages</li>
                        </ul>
                    </div>

                    <!-- Meal & Rest Breaks - WARNING -->
                    <div class="rule-card warning">
                        <h5>‚ö†Ô∏è Meal & Rest Breaks</h5>
                        <ul>
                            <li>Meal: 30 min unpaid if working 5+ hrs</li>
                            <li>Rest: 10 min paid per 4 hrs worked</li>
                            <li>Penalty if missed: 1 hour pay per violation</li>
                        </ul>
                    </div>

                    <!-- Paid Sick Leave -->
                    <div class="rule-card">
                        <h5>üè• Paid Sick Leave</h5>
                        <ul>
                            <li>40 hrs (5 days) per year minimum</li>
                            <li>Accrual: 1 hr per 30 hrs worked</li>
                        </ul>
                    </div>

                    <!-- Workers' Comp -->
                    <div class="rule-card">
                        <h5>ü¶∫ Workers' Comp</h5>
                        <ul>
                            <li>Required for ALL employers (even 1 employee)</li>
                        </ul>
                    </div>

                    <!-- Wage Theft Notice -->
                    <div class="rule-card">
                        <h5>üìã Wage Theft Notice</h5>
                        <ul>
                            <li>Written notice required at hire</li>
                            <li>Must include: pay rate, pay day, employer info</li>
                        </ul>
                    </div>
                </div>

                <!-- CA Size Requirements Table -->
                <div class="size-table-section">
                    <h5>üìä CA Requirements by Company Size</h5>
                    <table class="size-table" id="caSizeTable">
                        <thead>
                            <tr>
                                <th>Employees</th>
                                <th>What Kicks In</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-min="1" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>1+</td>
                                <td class="requirements-cell">Workers' comp, wage theft notice, min wage, overtime, meal/rest breaks, sick leave, final pay rules, itemized pay stubs</td>
                            </tr>
                            <tr data-min="5" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>5+</td>
                                <td class="requirements-cell">Sexual harassment training (2 hrs supervisors, 1 hr employees, every 2 yrs), CalSavers retirement</td>
                            </tr>
                            <tr data-min="15" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>15+</td>
                                <td class="requirements-cell">FEHA discrimination protections, CRD jurisdiction, disability accommodation</td>
                            </tr>
                            <tr data-min="25" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>25+</td>
                                <td class="requirements-cell">CFRA family leave (12 weeks unpaid)</td>
                            </tr>
                            <tr data-min="50" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>50+</td>
                                <td class="requirements-cell">FMLA applies, lactation room required</td>
                            </tr>
                            <tr data-min="75" data-max="999">
                                <td class="size-cell"><span class="status-icon">‚úÖ</span>75+</td>
                                <td class="requirements-cell">Cal-WARN Act (60-day layoff notice)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-content" id="tab-local">
                <h4>üìç Local Rules (City/County)</h4>

                <!-- City Selector -->
                <div class="city-selector">
                    <h5>Select Your City</h5>
                    <div class="city-buttons">
                        <button class="city-btn" data-city="los-angeles" onclick="selectCity(this)">Los Angeles</button>
                        <button class="city-btn" data-city="san-francisco" onclick="selectCity(this)">San Francisco</button>
                        <button class="city-btn" data-city="san-jose" onclick="selectCity(this)">San Jose</button>
                        <button class="city-btn" data-city="san-diego" onclick="selectCity(this)">San Diego</button>
                        <button class="city-btn" data-city="oakland" onclick="selectCity(this)">Oakland</button>
                        <button class="city-btn" data-city="long-beach" onclick="selectCity(this)">Long Beach</button>
                        <button class="city-btn" data-city="sacramento" onclick="selectCity(this)">Sacramento</button>
                        <button class="city-btn" data-city="fremont" onclick="selectCity(this)">Fremont</button>
                        <button class="city-btn" data-city="santa-monica" onclick="selectCity(this)">Santa Monica</button>
                        <button class="city-btn" data-city="berkeley" onclick="selectCity(this)">Berkeley</button>
                        <button class="city-btn" data-city="other" onclick="selectCity(this)">Other CA City</button>
                    </div>
                </div>

                <!-- Default Message (shown when no city selected) -->
                <div class="default-message" id="localDefaultMessage">
                    <span class="icon">üèôÔ∏è</span>
                    <p>Select your city above to see local requirements</p>
                </div>

                <!-- Wage Display (shown when city selected) -->
                <div class="wage-display hidden" id="wageDisplay">
                    <div class="wage-city-name" id="wageCityName">City Name</div>
                    <div class="wage-amount" id="wageAmount">$16.00/hr</div>
                    <div class="wage-comparison">
                        <span>State: $16.00</span>
                        <span class="arrow">‚Üí</span>
                        <span>Your City: <span id="wageCompareAmount">$16.00</span></span>
                        <span class="increase" id="wageIncrease">(+$0.00)</span>
                    </div>
                    <div class="wage-note" id="wageNote"></div>
                </div>

                <!-- City-Specific Rules -->
                <div class="city-rules hidden" id="cityRules">
                    <h5>üìã City-Specific Requirements</h5>
                    <div class="rule-card" id="cityRulesCard">
                        <ul id="cityRulesList">
                        </ul>
                    </div>
                </div>

                <!-- Local Minimum Wages Table -->
                <div class="size-table-section">
                    <h5>üí∞ Local Minimum Wages (2024)</h5>
                    <table class="local-wage-table" id="localWageTable">
                        <thead>
                            <tr>
                                <th>City</th>
                                <th>Min Wage</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-city="los-angeles">
                                <td>Los Angeles</td>
                                <td class="wage-cell">$16.78</td>
                                <td class="notes-cell">All employers</td>
                            </tr>
                            <tr data-city="san-francisco">
                                <td>San Francisco</td>
                                <td class="wage-cell">$18.07</td>
                                <td class="notes-cell">Highest in CA</td>
                            </tr>
                            <tr data-city="san-jose">
                                <td>San Jose</td>
                                <td class="wage-cell">$17.55</td>
                                <td class="notes-cell"></td>
                            </tr>
                            <tr data-city="san-diego">
                                <td>San Diego</td>
                                <td class="wage-cell">$16.85</td>
                                <td class="notes-cell"></td>
                            </tr>
                            <tr data-city="oakland">
                                <td>Oakland</td>
                                <td class="wage-cell">$16.50</td>
                                <td class="notes-cell"></td>
                            </tr>
                            <tr data-city="long-beach">
                                <td>Long Beach</td>
                                <td class="wage-cell">$16.90</td>
                                <td class="notes-cell">Hotels: $23.00</td>
                            </tr>
                            <tr data-city="santa-monica">
                                <td>Santa Monica</td>
                                <td class="wage-cell">$16.90</td>
                                <td class="notes-cell">Hotels: $19.73</td>
                            </tr>
                            <tr data-city="berkeley">
                                <td>Berkeley</td>
                                <td class="wage-cell">$18.07</td>
                                <td class="notes-cell"></td>
                            </tr>
                            <tr data-city="fremont">
                                <td>Fremont</td>
                                <td class="wage-cell">$17.30</td>
                                <td class="notes-cell"></td>
                            </tr>
                            <tr data-city="sacramento">
                                <td>Sacramento</td>
                                <td class="wage-cell">$16.00</td>
                                <td class="notes-cell">State rate</td>
                            </tr>
                            <tr data-city="other">
                                <td>Other CA</td>
                                <td class="wage-cell">$16.00</td>
                                <td class="notes-cell">Use state minimum</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Wage Info Note -->
                <div class="wage-info-note">
                    <span class="note-icon">üí°</span>
                    <span>Always pay the <strong>HIGHEST</strong> applicable rate (Federal $7.25 &lt; State $16.00 &lt; Local). When in doubt, use your city's rate.</span>
                </div>
            </div>
        </section>

        <!-- Calculators Section -->
        <section class="calculators-section">
            <h3>üßÆ Compliance Calculators</h3>

            <div class="calculator-grid">
                <!-- Final Pay Deadline Calculator -->
                <div class="calc-card open" id="finalPayCalc">
                    <div class="calc-header" onclick="toggleCalc('finalPayCalc')">
                        <h4>üìÖ Final Pay Deadline</h4>
                        <span class="calc-toggle">‚ñº</span>
                    </div>
                    <div class="calc-body">
                        <div class="calc-form-group">
                            <label>Termination Type</label>
                            <select class="calc-select" id="termType">
                                <option value="">Select type...</option>
                                <option value="fired">Fired / Laid Off</option>
                                <option value="quit-notice">Quit WITH 72+ hours notice</option>
                                <option value="quit-no-notice">Quit WITHOUT notice</option>
                            </select>
                        </div>
                        <div class="calc-form-group">
                            <label>Last Day Worked</label>
                            <input type="date" class="calc-input" id="lastDayWorked">
                        </div>
                        <button class="calc-btn" onclick="calculateFinalPay()">Calculate Deadline</button>

                        <div class="calc-result" id="finalPayResult">
                            <!-- Results will be inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Waiting Time Penalty Calculator -->
                <div class="calc-card" id="penaltyCalc">
                    <div class="calc-header" onclick="toggleCalc('penaltyCalc')">
                        <h4>‚ö†Ô∏è Waiting Time Penalty</h4>
                        <span class="calc-toggle">‚ñº</span>
                    </div>
                    <div class="calc-body">
                        <div class="calc-input-row">
                            <div class="calc-form-group">
                                <label>Hourly Rate ($)</label>
                                <input type="number" class="calc-input" id="penaltyRate" placeholder="20.00" step="0.01" min="0">
                            </div>
                            <div class="calc-form-group">
                                <label>Hours/Day</label>
                                <input type="number" class="calc-input" id="penaltyHours" value="8" min="1" max="24">
                            </div>
                        </div>
                        <div class="calc-form-group">
                            <label>Days Late</label>
                            <input type="number" class="calc-input" id="daysLate" placeholder="1" min="1" max="30">
                        </div>
                        <button class="calc-btn" onclick="calculatePenalty()">Calculate Penalty</button>

                        <div class="calc-result" id="penaltyResult">
                            <!-- Results will be inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Break Violation Calculator -->
                <div class="calc-card" id="breakCalc">
                    <div class="calc-header" onclick="toggleCalc('breakCalc')">
                        <h4>‚òï Break Violation Penalty</h4>
                        <span class="calc-toggle">‚ñº</span>
                    </div>
                    <div class="calc-body">
                        <div class="calc-input-row">
                            <div class="calc-form-group">
                                <label>Missed Meal Breaks</label>
                                <input type="number" class="calc-input" id="missedMeals" placeholder="0" min="0">
                            </div>
                            <div class="calc-form-group">
                                <label>Missed Rest Breaks</label>
                                <input type="number" class="calc-input" id="missedRests" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="calc-form-group">
                            <label>Employee Hourly Rate ($)</label>
                            <input type="number" class="calc-input" id="breakRate" placeholder="20.00" step="0.01" min="0">
                        </div>
                        <button class="calc-btn" onclick="calculateBreakPenalty()">Calculate Penalties</button>

                        <div class="calc-result" id="breakResult">
                            <!-- Results will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Compliance Checklist Generator -->
            <div class="checklist-generator" id="checklistGenerator">
                <h3>üìã Your Custom Compliance Checklist</h3>

                <!-- Meta Info -->
                <div class="checklist-meta">
                    <div class="checklist-meta-item">
                        <span class="checklist-meta-label">Company Size:</span>
                        <span class="checklist-meta-value" id="checklistSize">5-14 employees</span>
                    </div>
                    <div class="checklist-meta-item">
                        <span class="checklist-meta-label">City:</span>
                        <span class="checklist-meta-value" id="checklistCity">Not selected</span>
                    </div>
                    <div class="checklist-meta-item">
                        <span class="checklist-meta-label">Min Wage:</span>
                        <span class="checklist-meta-value" id="checklistWage">$16.00/hr</span>
                    </div>
                    <div class="checklist-meta-item">
                        <span class="checklist-meta-label">Generated:</span>
                        <span class="checklist-meta-value" id="checklistDate">-</span>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="checklist-progress">
                    <span>Progress:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <span class="progress-text" id="progressText">0 of 0 items</span>
                </div>

                <!-- Checklist Sections -->
                <div class="checklist-sections" id="checklistSections">
                    <!-- Section 1: Hiring -->
                    <div class="checklist-section">
                        <h4>üìù Hiring Checklist</h4>
                        <ul class="checklist-items" id="hiringChecklist">
                            <!-- Items generated by JS -->
                        </ul>
                    </div>

                    <!-- Section 2: Ongoing -->
                    <div class="checklist-section">
                        <h4>üîÑ Ongoing Compliance</h4>
                        <ul class="checklist-items" id="ongoingChecklist">
                            <!-- Items generated by JS -->
                        </ul>
                    </div>

                    <!-- Section 3: Termination -->
                    <div class="checklist-section">
                        <h4>üö™ Termination Checklist</h4>
                        <ul class="checklist-items" id="terminationChecklist">
                            <!-- Items generated by JS -->
                        </ul>
                    </div>

                    <!-- Section 4: Posting -->
                    <div class="checklist-section">
                        <h4>üìå Posting Requirements</h4>
                        <ul class="checklist-items" id="postingChecklist">
                            <!-- Items generated by JS -->
                        </ul>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="checklist-actions">
                    <button class="checklist-btn primary" onclick="printChecklist()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 6 2 18 2 18 9"/>
                            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                            <rect x="6" y="14" width="12" height="8"/>
                        </svg>
                        Print Checklist
                    </button>
                    <button class="checklist-btn secondary" onclick="resetChecklist()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                        </svg>
                        Reset All
                    </button>
                    <button class="checklist-btn secondary" onclick="generateChecklist()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.66 0 3-4.03 3-9s-1.34-9-3-9m0 18c-1.66 0-3-4.03-3-9s1.34-9 3-9"/>
                        </svg>
                        Regenerate
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2026 ToolTime Pro. <a href="index.html">Return to main site</a></p>
    </footer>

    <script>
        // Get max employee count from size range
        function getMaxFromSize(sizeRange) {
            const parts = sizeRange.split('-');
            return parseInt(parts[1] || parts[0]);
        }

        // Update table highlighting based on company size
        function updateTableHighlighting(sizeRange) {
            const maxEmployees = getMaxFromSize(sizeRange);

            // Update Federal table
            updateSingleTable('federalSizeTable', maxEmployees, [1, 11, 15, 20, 50, 100]);

            // Update CA State table
            updateSingleTable('caSizeTable', maxEmployees, [1, 5, 15, 25, 50, 75]);
        }

        // Helper function to update a single table
        function updateSingleTable(tableId, maxEmployees, thresholds) {
            const rows = document.querySelectorAll('#' + tableId + ' tbody tr');

            rows.forEach(row => {
                const minRequired = parseInt(row.dataset.min);
                const statusIcon = row.querySelector('.status-icon');

                // Remove all classes first
                row.classList.remove('active-row', 'inactive');

                if (maxEmployees >= minRequired) {
                    // This requirement applies
                    row.classList.remove('inactive');
                    statusIcon.textContent = '‚úÖ';
                    statusIcon.classList.remove('status-not-yet');
                    statusIcon.classList.add('status-applies');

                    // Highlight the row that matches current size bracket
                    const currentThreshold = thresholds.filter(t => maxEmployees >= t).pop();
                    if (minRequired === currentThreshold) {
                        row.classList.add('active-row');
                    }
                } else {
                    // Not yet required
                    row.classList.add('inactive');
                    statusIcon.textContent = '‚óã';
                    statusIcon.classList.remove('status-applies');
                    statusIcon.classList.add('status-not-yet');
                }
            });
        }

        // Company Size Selection
        function selectSize(btn) {
            document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const size = btn.dataset.size;
            updateTableHighlighting(size);
        }

        // Tab Navigation
        function showTab(tabId) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // Update content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
        }

        // Download Checklist
        function downloadChecklist() {
            const activeSize = document.querySelector('.size-btn.active').dataset.size;
            alert(`Downloading compliance checklist for ${activeSize} employees...\n\nIn the full version, this would generate a PDF checklist customized for your company size.`);
        }

        // City Data
        const cityData = {
            'los-angeles': {
                name: 'Los Angeles',
                wage: 16.78,
                note: 'All employers',
                rules: [
                    'Fair Work Week (retail): Predictive scheduling for 300+ employee retailers',
                    'Paid sick leave: Follows state (40 hrs)'
                ]
            },
            'san-francisco': {
                name: 'San Francisco',
                wage: 18.07,
                note: 'Highest in CA',
                rules: [
                    'Health Care Security Ordinance (HCSO): Healthcare spending for employees',
                    'Paid Parental Leave: 8 weeks supplemental (20+ employees)',
                    'Fair Chance Ordinance: Ban the box',
                    'Formula Retail: Predictive scheduling'
                ]
            },
            'san-jose': {
                name: 'San Jose',
                wage: 17.55,
                note: '',
                rules: [
                    'Opportunity to Work: Offer hours to part-timers before hiring',
                    'Minimum wage posted conspicuously'
                ]
            },
            'san-diego': {
                name: 'San Diego',
                wage: 16.85,
                note: '',
                rules: [
                    'Follows state requirements',
                    'No additional city-specific rules'
                ]
            },
            'oakland': {
                name: 'Oakland',
                wage: 16.50,
                note: '',
                rules: [
                    'Hotel worker protections',
                    'Ban the box (Fair Chance Ordinance)'
                ]
            },
            'long-beach': {
                name: 'Long Beach',
                wage: 16.90,
                note: 'Hotels: $23.00',
                rules: [
                    'Hotel Worker Minimum Wage: $23.00/hr',
                    'Follows state requirements for other industries'
                ]
            },
            'sacramento': {
                name: 'Sacramento',
                wage: 16.00,
                note: 'State rate',
                rules: [
                    'Follows state minimum wage ($16.00)',
                    'No additional city-specific requirements'
                ]
            },
            'fremont': {
                name: 'Fremont',
                wage: 17.30,
                note: '',
                rules: [
                    'Follows state requirements',
                    'No additional city-specific rules'
                ]
            },
            'santa-monica': {
                name: 'Santa Monica',
                wage: 16.90,
                note: 'Hotels: $19.73',
                rules: [
                    'Hotel Worker Protection Ordinance',
                    'Hotel minimum wage: $19.73/hr'
                ]
            },
            'berkeley': {
                name: 'Berkeley',
                wage: 18.07,
                note: '',
                rules: [
                    'Follows state requirements',
                    'Matches San Francisco minimum wage'
                ]
            },
            'other': {
                name: 'Other CA City',
                wage: 16.00,
                note: 'Use state minimum',
                rules: [
                    'Use California state minimum wage: $16.00/hr',
                    'Check your specific city for any local ordinances'
                ]
            }
        };

        const STATE_WAGE = 16.00;

        // City Selection
        function selectCity(btn) {
            // Update button states
            document.querySelectorAll('.city-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            const cityId = btn.dataset.city;
            const city = cityData[cityId];

            // Hide default message, show wage display
            document.getElementById('localDefaultMessage').style.display = 'none';
            document.getElementById('wageDisplay').classList.remove('hidden');
            document.getElementById('cityRules').classList.remove('hidden');

            // Update wage display
            document.getElementById('wageCityName').textContent = city.name;
            document.getElementById('wageAmount').textContent = `$${city.wage.toFixed(2)}/hr`;
            document.getElementById('wageCompareAmount').textContent = `$${city.wage.toFixed(2)}`;

            const increase = city.wage - STATE_WAGE;
            const increaseEl = document.getElementById('wageIncrease');
            if (increase > 0) {
                increaseEl.textContent = `(+$${increase.toFixed(2)})`;
                increaseEl.style.display = 'inline';
            } else {
                increaseEl.style.display = 'none';
            }

            // Update wage note
            const wageNote = document.getElementById('wageNote');
            wageNote.textContent = city.note || '';

            // Update city rules
            const rulesList = document.getElementById('cityRulesList');
            rulesList.innerHTML = city.rules.map(rule => `<li>${rule}</li>`).join('');

            // Highlight row in wage table
            document.querySelectorAll('#localWageTable tbody tr').forEach(row => {
                row.classList.remove('selected-city');
                if (row.dataset.city === cityId) {
                    row.classList.add('selected-city');
                }
            });
        }

        // Initialize table highlighting on page load
        document.addEventListener('DOMContentLoaded', function() {
            const activeBtn = document.querySelector('.size-btn.active');
            if (activeBtn) {
                updateTableHighlighting(activeBtn.dataset.size);
            }

            // Set default date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('lastDayWorked').value = today;
        });

        // Calculator Toggle
        function toggleCalc(calcId) {
            const card = document.getElementById(calcId);
            card.classList.toggle('open');
        }

        // Format date for display
        function formatDate(date) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        // Add business days (skip weekends)
        function addBusinessDays(date, days) {
            let result = new Date(date);
            let added = 0;
            while (added < days) {
                result.setDate(result.getDate() + 1);
                if (result.getDay() !== 0 && result.getDay() !== 6) {
                    added++;
                }
            }
            return result;
        }

        // Add hours to date
        function addHours(date, hours) {
            const result = new Date(date);
            result.setHours(result.getHours() + hours);
            return result;
        }

        // Final Pay Deadline Calculator
        function calculateFinalPay() {
            const termType = document.getElementById('termType').value;
            const lastDayInput = document.getElementById('lastDayWorked').value;
            const resultDiv = document.getElementById('finalPayResult');

            if (!termType || !lastDayInput) {
                resultDiv.innerHTML = '<div class="result-box info"><div class="result-header">Please fill in all fields</div></div>';
                resultDiv.classList.add('show');
                return;
            }

            const lastDay = new Date(lastDayInput + 'T17:00:00'); // Assume 5 PM end of day
            let resultHTML = '';

            if (termType === 'fired') {
                resultHTML = `
                    <div class="result-box warning">
                        <div class="result-header">‚ö†Ô∏è FINAL PAY DUE: IMMEDIATELY</div>
                        <div class="result-date">${formatDate(lastDay)}</div>
                        <div class="result-detail">
                            Must pay on the <strong>same day</strong> as termination ‚Äî no exceptions.
                        </div>
                        <div class="result-penalty">
                            <div class="result-penalty-label">If Late: Waiting Time Penalty</div>
                            <div class="result-penalty-amount">Up to 30 days wages!</div>
                        </div>
                        <div class="result-note">
                            Example: $20/hr √ó 8 hrs √ó 30 days = <strong>$4,800 penalty</strong>
                        </div>
                    </div>
                `;
            } else if (termType === 'quit-notice') {
                resultHTML = `
                    <div class="result-box success">
                        <div class="result-header">‚úÖ FINAL PAY DUE: Last Day</div>
                        <div class="result-date">${formatDate(lastDay)}</div>
                        <div class="result-detail">
                            Employee gave 72+ hours notice, so final pay is due on their <strong>last working day</strong>.
                        </div>
                        <div class="result-note">
                            Must include all wages earned + all accrued vacation time.
                        </div>
                    </div>
                `;
            } else if (termType === 'quit-no-notice') {
                const dueDate = addHours(lastDay, 72);
                // Check if due date falls on weekend
                let adjustedDate = new Date(dueDate);
                if (adjustedDate.getDay() === 0) adjustedDate.setDate(adjustedDate.getDate() + 1);
                if (adjustedDate.getDay() === 6) adjustedDate.setDate(adjustedDate.getDate() + 2);

                resultHTML = `
                    <div class="result-box info">
                        <div class="result-header">‚è∞ FINAL PAY DUE: Within 72 Hours</div>
                        <div class="result-date">${formatDate(adjustedDate)}</div>
                        <div class="result-detail">
                            Employee quit without notice. You have <strong>72 hours</strong> to provide final pay.
                        </div>
                        ${adjustedDate.getTime() !== dueDate.getTime() ?
                            '<div class="result-note">Note: 72-hour deadline fell on weekend, adjusted to next business day.</div>' :
                            '<div class="result-note">Must include all wages earned + all accrued vacation time.</div>'}
                    </div>
                `;
            }

            resultDiv.innerHTML = resultHTML;
            resultDiv.classList.add('show');
        }

        // Waiting Time Penalty Calculator
        function calculatePenalty() {
            const rate = parseFloat(document.getElementById('penaltyRate').value);
            const hours = parseFloat(document.getElementById('penaltyHours').value) || 8;
            const daysLate = Math.min(parseInt(document.getElementById('daysLate').value) || 0, 30);
            const resultDiv = document.getElementById('penaltyResult');

            if (!rate || rate <= 0 || daysLate <= 0) {
                resultDiv.innerHTML = '<div class="result-box info"><div class="result-header">Please fill in all fields</div></div>';
                resultDiv.classList.add('show');
                return;
            }

            const dailyWage = rate * hours;
            const totalPenalty = dailyWage * daysLate;

            resultDiv.innerHTML = `
                <div class="result-box warning">
                    <div class="result-header">üí∏ POTENTIAL PENALTY</div>
                    <div class="result-breakdown">
                        <div class="breakdown-row">
                            <span class="breakdown-label">Daily wage</span>
                            <span class="breakdown-value">$${rate.toFixed(2)} √ó ${hours} hrs = $${dailyWage.toFixed(2)}</span>
                        </div>
                        <div class="breakdown-row">
                            <span class="breakdown-label">Days late</span>
                            <span class="breakdown-value">${daysLate} day${daysLate > 1 ? 's' : ''} (max 30)</span>
                        </div>
                        <div class="breakdown-row">
                            <span class="breakdown-label">TOTAL PENALTY</span>
                            <span class="breakdown-value" style="color: var(--danger); font-size: 1.25rem;">$${totalPenalty.toFixed(2)}</span>
                        </div>
                    </div>
                    <div class="result-note">
                        ‚ö†Ô∏è This penalty is <strong>ON TOP OF</strong> all wages owed to the employee!
                    </div>
                </div>
            `;
            resultDiv.classList.add('show');
        }

        // Break Violation Penalty Calculator
        function calculateBreakPenalty() {
            const missedMeals = parseInt(document.getElementById('missedMeals').value) || 0;
            const missedRests = parseInt(document.getElementById('missedRests').value) || 0;
            const rate = parseFloat(document.getElementById('breakRate').value);
            const resultDiv = document.getElementById('breakResult');

            if (!rate || rate <= 0) {
                resultDiv.innerHTML = '<div class="result-box info"><div class="result-header">Please enter an hourly rate</div></div>';
                resultDiv.classList.add('show');
                return;
            }

            if (missedMeals === 0 && missedRests === 0) {
                resultDiv.innerHTML = '<div class="result-box success"><div class="result-header">‚úÖ No violations ‚Äî no penalties!</div></div>';
                resultDiv.classList.add('show');
                return;
            }

            const mealPenalty = missedMeals * rate;
            const restPenalty = missedRests * rate;
            const totalPenalty = mealPenalty + restPenalty;

            resultDiv.innerHTML = `
                <div class="result-box warning">
                    <div class="result-header">üí∏ BREAK VIOLATION PENALTIES</div>
                    <div class="result-breakdown">
                        ${missedMeals > 0 ? `
                        <div class="breakdown-row">
                            <span class="breakdown-label">Missed Meals</span>
                            <span class="breakdown-value">${missedMeals} √ó $${rate.toFixed(2)} = $${mealPenalty.toFixed(2)}</span>
                        </div>
                        ` : ''}
                        ${missedRests > 0 ? `
                        <div class="breakdown-row">
                            <span class="breakdown-label">Missed Rests</span>
                            <span class="breakdown-value">${missedRests} √ó $${rate.toFixed(2)} = $${restPenalty.toFixed(2)}</span>
                        </div>
                        ` : ''}
                        <div class="breakdown-row">
                            <span class="breakdown-label">TOTAL OWED</span>
                            <span class="breakdown-value" style="color: var(--danger); font-size: 1.25rem;">$${totalPenalty.toFixed(2)}</span>
                        </div>
                    </div>
                    <div class="result-note">
                        Note: Penalty is <strong>1 hour of pay per violation per day</strong>. Meal and rest break violations are separate.
                    </div>
                </div>
            `;
            resultDiv.classList.add('show');
        }

        // ==========================================
        // CHECKLIST GENERATOR
        // ==========================================

        // Checklist item definitions
        const checklistData = {
            hiring: [
                { text: 'Collect W-4 (federal tax withholding)', minSize: 1 },
                { text: 'Collect DE-4 (CA state tax withholding)', minSize: 1 },
                { text: 'Complete I-9 within 3 business days', minSize: 1 },
                { text: 'Provide Wage Theft Prevention Notice', minSize: 1 },
                { text: 'Provide Workers\' Compensation info', minSize: 1 },
                { text: 'Provide Paid Sick Leave notice', minSize: 1 },
                { text: 'Provide sexual harassment prevention policy', minSize: 5, conditional: '5+ employees' },
                { text: 'Provide FEHA rights notice', minSize: 15, conditional: '15+ employees' },
                { text: 'Provide CFRA family leave info', minSize: 25, conditional: '25+ employees' }
            ],
            ongoing: [
                { text: 'Pay at least minimum wage', minSize: 1, dynamic: 'wage' },
                { text: 'Pay overtime after 8 hrs/day or 40 hrs/week', minSize: 1 },
                { text: 'Pay double time after 12 hrs/day', minSize: 1 },
                { text: 'Provide 30 min meal break at 5 hrs', minSize: 1 },
                { text: 'Provide 10 min rest break every 4 hrs', minSize: 1 },
                { text: 'Issue itemized pay stubs each pay period', minSize: 1 },
                { text: 'Track sick leave accrual (1 hr per 30 hrs)', minSize: 1 },
                { text: 'CalSavers enrollment OR provide other retirement plan', minSize: 5, conditional: '5+ employees' },
                { text: 'Sexual harassment training every 2 years', minSize: 5, conditional: '5+ employees' },
                { text: 'Provide reasonable disability accommodations', minSize: 15, conditional: '15+ employees' },
                { text: 'Provide FMLA/CFRA leave when eligible', minSize: 25, conditional: '25+ employees' },
                { text: 'Provide lactation room', minSize: 50, conditional: '50+ employees' }
            ],
            termination: [
                { text: 'Calculate final pay (all wages + accrued vacation)', minSize: 1 },
                { text: 'If fired/laid off: Pay IMMEDIATELY same day', minSize: 1 },
                { text: 'If quit with notice: Pay on last day', minSize: 1 },
                { text: 'If quit without notice: Pay within 72 hours', minSize: 1 },
                { text: 'Provide COBRA continuation notice', minSize: 20, conditional: '20+ employees' },
                { text: 'Return employee personal property', minSize: 1 },
                { text: 'Document reason for termination', minSize: 1 },
                { text: 'Provide Cal-WARN notice for mass layoffs', minSize: 75, conditional: '75+ employees' }
            ],
            posting: [
                { text: 'Federal minimum wage poster', minSize: 1 },
                { text: 'California minimum wage poster', minSize: 1 },
                { text: 'CA Paid Sick Leave poster', minSize: 1 },
                { text: 'OSHA Job Safety & Health poster', minSize: 1 },
                { text: 'Workers\' Compensation poster', minSize: 1 },
                { text: 'Payday notice (regular pay dates)', minSize: 1 },
                { text: 'Emergency contact information', minSize: 1 },
                { text: 'Discrimination/harassment poster (DFEH)', minSize: 5, conditional: '5+ employees' },
                { text: 'Whistleblower protections poster', minSize: 1 },
                { text: 'City-specific posting', minSize: 1, dynamic: 'city' }
            ]
        };

        // Current state
        let currentCheckedItems = new Set();
        let selectedCity = null;
        let selectedCityWage = 16.00;

        // Generate checklist based on company size
        function generateChecklist() {
            const sizeBtn = document.querySelector('.size-btn.active');
            const maxEmployees = sizeBtn ? getMaxFromSize(sizeBtn.dataset.size) : 14;
            const sizeText = sizeBtn ? sizeBtn.dataset.size + ' employees' : '5-14 employees';

            // Update meta info
            document.getElementById('checklistSize').textContent = sizeText;
            document.getElementById('checklistCity').textContent = selectedCity ? cityData[selectedCity].name : 'Not selected';
            document.getElementById('checklistWage').textContent = `$${selectedCityWage.toFixed(2)}/hr`;
            document.getElementById('checklistDate').textContent = new Date().toLocaleDateString('en-US', {
                month: 'short', day: 'numeric', year: 'numeric'
            });

            // Generate each section
            generateSection('hiringChecklist', checklistData.hiring, maxEmployees);
            generateSection('ongoingChecklist', checklistData.ongoing, maxEmployees);
            generateSection('terminationChecklist', checklistData.termination, maxEmployees);
            generateSection('postingChecklist', checklistData.posting, maxEmployees);

            // Update progress
            updateProgress();
        }

        // Generate a single section
        function generateSection(containerId, items, maxEmployees) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            items.forEach((item, index) => {
                const itemId = `${containerId}-${index}`;
                const isActive = maxEmployees >= item.minSize;
                const isChecked = currentCheckedItems.has(itemId);

                // Handle dynamic text
                let displayText = item.text;
                if (item.dynamic === 'wage') {
                    displayText = `Pay at least $${selectedCityWage.toFixed(2)}/hr (minimum wage)`;
                } else if (item.dynamic === 'city' && selectedCity) {
                    displayText = `${cityData[selectedCity].name} city-specific posting requirements`;
                } else if (item.dynamic === 'city' && !selectedCity) {
                    displayText = 'Local city posting (select city above)';
                }

                const li = document.createElement('li');
                li.className = `checklist-item${isChecked ? ' checked' : ''}${!isActive ? ' inactive' : ''}`;
                li.dataset.itemId = itemId;

                if (isActive) {
                    li.onclick = () => toggleChecklistItem(itemId, li);
                }

                li.innerHTML = `
                    <div class="checklist-checkbox"></div>
                    <span class="checklist-label">
                        ${displayText}
                        ${item.conditional && isActive ? `<span class="checklist-conditional">[${item.conditional}]</span>` : ''}
                        ${!isActive && item.conditional ? `<span class="checklist-conditional">[Requires ${item.conditional}]</span>` : ''}
                    </span>
                `;

                container.appendChild(li);
            });
        }

        // Toggle checklist item
        function toggleChecklistItem(itemId, element) {
            if (element.classList.contains('inactive')) return;

            element.classList.toggle('checked');

            if (element.classList.contains('checked')) {
                currentCheckedItems.add(itemId);
            } else {
                currentCheckedItems.delete(itemId);
            }

            updateProgress();
        }

        // Update progress bar
        function updateProgress() {
            const allItems = document.querySelectorAll('.checklist-item:not(.inactive)');
            const checkedItems = document.querySelectorAll('.checklist-item.checked:not(.inactive)');
            const total = allItems.length;
            const completed = checkedItems.length;
            const percentage = total > 0 ? (completed / total) * 100 : 0;

            document.getElementById('progressFill').style.width = `${percentage}%`;
            document.getElementById('progressText').textContent = `${completed} of ${total} items`;
        }

        // Reset checklist
        function resetChecklist() {
            currentCheckedItems.clear();
            document.querySelectorAll('.checklist-item').forEach(item => {
                item.classList.remove('checked');
            });
            updateProgress();
        }

        // Print checklist
        function printChecklist() {
            window.print();
        }

        // Download checklist (legacy function - now just prints)
        function downloadChecklist() {
            printChecklist();
        }

        // Update checklist when size changes - modify existing selectSize
        const originalSelectSize = selectSize;
        selectSize = function(btn) {
            originalSelectSize(btn);
            generateChecklist();
        };

        // Update checklist when city changes - modify existing selectCity
        const originalSelectCity = selectCity;
        selectCity = function(btn) {
            originalSelectCity(btn);
            selectedCity = btn.dataset.city;
            selectedCityWage = cityData[selectedCity].wage;
            generateChecklist();
        };

        // Initialize checklist on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial wage from state minimum
            selectedCityWage = STATE_WAGE;
            generateChecklist();
        });
    </script>
</body>
</html>
